# Luccabot Partnership Form API Documentation

## Overview
This document provides the API specification for handling partnership form submissions from the Luccabot website.

## Endpoint
```
POST /api/partnership
```

## Request Headers
```
Content-Type: application/json
```

## Request Body (JSON)

### Required Fields
| Field | Type | Description | Validation |
|-------|------|-------------|------------|
| `fullName` | string | Full name of the potential partner | Required, non-empty string |
| `email` | string | Email address | Required, valid email format |
| `partnershipType` | string | Type of partnership interest | Required, one of: "micro-investor", "growth-collaborator", "startup-partner", "other" |

### Optional Fields
| Field | Type | Description | Validation |
|-------|------|-------------|------------|
| `phone` | string | Phone number | Optional, any format |
| `investmentAmount` | string | Investment range | Optional, one of: "under-10k", "10k-50k", "50k-100k", "100k-plus", "not-applicable" |
| `background` | string | Background and experience | Optional, text area content |
| `motivation` | string | Why they want to partner | Optional, text area content |
| `additionalInfo` | string | Additional information | Optional, text area content |

### System Fields (Auto-generated by frontend)
| Field | Type | Description |
|-------|------|-------------|
| `timestamp` | string | ISO 8601 timestamp when form was submitted |
| `userAgent` | string | User's browser user agent string |
| `referrer` | string | Referrer URL (if available) |

## Example Request
```json
{
  "fullName": "John Doe",
  "email": "john.doe@example.com",
  "phone": "+1-555-123-4567",
  "partnershipType": "micro-investor",
  "investmentAmount": "10k-50k",
  "background": "I have 10 years of experience in fintech and have successfully scaled two startups.",
  "motivation": "I believe in Luccabot's mission to make finance accessible to everyone through conversational AI.",
  "additionalInfo": "I'm particularly interested in the technical architecture and would love to contribute to the development.",
  "timestamp": "2024-01-15T10:30:00.000Z",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36",
  "referrer": "https://luccabot.com/partnership"
}
```

## Response Format

### Success Response (200 OK)
```json
{
  "success": true,
  "message": "Partnership interest submitted successfully",
  "submission_id": "part_1705312200000"
}
```

### Error Responses

#### 400 Bad Request - Missing Required Field
```json
{
  "success": false,
  "error": "Missing required field: fullName"
}
```

#### 400 Bad Request - Invalid Email
```json
{
  "success": false,
  "error": "Invalid email format"
}
```

#### 400 Bad Request - Invalid Partnership Type
```json
{
  "success": false,
  "error": "Invalid partnership type. Must be one of: micro-investor, growth-collaborator, startup-partner, other"
}
```

#### 500 Internal Server Error
```json
{
  "success": false,
  "error": "Internal server error"
}
```

## CORS Requirements
The API must support CORS with the following headers:
```
Access-Control-Allow-Origin: *
Access-Control-Allow-Methods: POST, OPTIONS
Access-Control-Allow-Headers: Content-Type
```

## Validation Rules

### Email Validation
- Must be a valid email format
- Should be checked for proper structure (user@domain.com)

### Partnership Type Validation
- Must be exactly one of: "micro-investor", "growth-collaborator", "startup-partner", "other"
- Case-sensitive

### Investment Amount Validation
- Must be exactly one of: "under-10k", "10k-50k", "50k-100k", "100k-plus", "not-applicable"
- Case-sensitive

### String Length Limits (Recommended)
- `fullName`: 1-100 characters
- `email`: 1-254 characters
- `phone`: 0-20 characters
- `background`: 0-1000 characters
- `motivation`: 0-500 characters
- `additionalInfo`: 0-500 characters

## Database Schema Suggestions

### Partnership Submissions Table
```sql
CREATE TABLE partnership_submissions (
    id SERIAL PRIMARY KEY,
    submission_id VARCHAR(50) UNIQUE NOT NULL,
    full_name VARCHAR(100) NOT NULL,
    email VARCHAR(254) NOT NULL,
    phone VARCHAR(20),
    partnership_type VARCHAR(50) NOT NULL,
    investment_amount VARCHAR(20),
    background TEXT,
    motivation TEXT,
    additional_info TEXT,
    user_agent TEXT,
    referrer TEXT,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

## Integration Notes

### Frontend Integration
The frontend will send requests to your API endpoint. Make sure to:
1. Handle CORS preflight requests (OPTIONS method)
2. Return proper JSON responses
3. Include appropriate error messages
4. Log submissions for tracking

### Security Considerations
1. **Rate Limiting**: Implement rate limiting to prevent spam
2. **Input Sanitization**: Sanitize all text inputs
3. **Email Validation**: Use proper email validation
4. **SQL Injection**: Use parameterized queries
5. **XSS Protection**: Sanitize user inputs before storage

### Email Notifications (Recommended)
Consider sending email notifications to:
1. **Internal Team**: New partnership interest received
2. **User**: Confirmation email with submission details

### Example Email Templates

#### Internal Notification
```
Subject: New Partnership Interest - Luccabot

A new partnership interest has been submitted:

Name: {fullName}
Email: {email}
Partnership Type: {partnershipType}
Investment Amount: {investmentAmount}

Background: {background}
Motivation: {motivation}

Submitted at: {timestamp}
```

#### User Confirmation
```
Subject: Thank you for your partnership interest - Luccabot

Dear {fullName},

Thank you for your interest in partnering with Luccabot. We have received your submission and will review it carefully.

Submission ID: {submission_id}
Partnership Type: {partnershipType}

We'll get back to you within 2-3 business days.

Best regards,
The Luccabot Team
```

## Testing

### Test Cases
1. **Valid Submission**: All required fields provided
2. **Missing Required Field**: Test each required field individually
3. **Invalid Email**: Test various invalid email formats
4. **Invalid Partnership Type**: Test invalid partnership types
5. **Long Text**: Test maximum length limits
6. **CORS**: Test cross-origin requests
7. **Rate Limiting**: Test multiple rapid submissions

### Sample Test Data
```json
{
  "fullName": "Test User",
  "email": "test@example.com",
  "partnershipType": "micro-investor",
  "investmentAmount": "10k-50k",
  "background": "Test background information",
  "motivation": "Test motivation",
  "additionalInfo": "Test additional info"
}
```

## Contact
For questions about this API specification, contact the frontend development team.
